# Section2: 변수 다루기

## var를 지양하자

- var x -> const!

- ES2015 전에는 var를 사용하였고, 이 후 let, const ...

- var > function scope
- let, const > block scope, Temporal Dead Zone (안전)

- let vs const
- let = 재할당 가능
- const = 재할당 불가능

## function scope vs block scope

- let 보다는 const 를 사용하는 것을 더 추천
- const 는 재할당만 금지된다!
- 본연의 객체, 배열 등 래퍼런스를 조작하는 것은 문제가 없다!

## 전역 공간을 사용 최소화

### 전역을 사용하지 않아야 하는 이유?

- 1. 경험
- 2. 누군가 혹은 자바스크립트 생태계
- 3. 강의 혹은 책
- 4. 회사 혹은 멘토
- 5. Lint

```text
전역 -> 최상위 -> 브라우저 (window)
            -> Node JS (global)
```

- JS에서는 파일을 나눈다고 해서 스코프가 나뉘는 것이 아니다!
- 다른 파일에서 선언한 변수를 사용할 수 있어서 코드 겹침 현상이 발생한다.

```text
전역 변수를 더럽히지 않기!
- 왜냐하면 어디서나 접근이 가능해지기 때문에!

1. 전역 변수 x
2. 지역 변수 o
3. window, global 조작 x
4. const, let o
5. IIFE, Module, Closure, 스코프를 나누기
```

### 임시 변수 제거하기

```text
임시 변수 제거!
- 왜냐하면 명령형으로 가득한 코드가 되어버리기 때문에!
- 어디서 어떻게? 디버깅이 힘들어진다
- 추가적인 코드를 작성하고 싶은 유혹에 빠진다

해결책
1. 함수 나누기
2. 바로 반환
3. 고차 함수 (map, filter, reduce ...)
4. 선언형 코드로 변경
```

### 호이스팅 주의하기

호이스팅

- 런타임시에 선언과 할당이 분리되어 있어 발생
- var로 선언한 함수가 초기화가 제대로 되어 있지 않을때 선언부만 최상단으로 이동
- 변수, 함수도 호이스팅된다!

```js
const sum = function () {
  return 1 + 2;
};

console.log(sum());
```

- 함수를 만들땐 함수 표현식으로 만드는 것을 추천

```
호이스팅
- 런타임시 선언이 최상단으로 끌어올려짐

문제
- 코드 작성시 예측하지 못한 실행 결과 발생
- 디버깅이 힘들어짐

해결책
1. var x -> let, const 지향
2. 함수 조심! 함수 표현식 사용

```
